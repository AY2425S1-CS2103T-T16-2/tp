@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model as ModelPackage <<Rectangle>>{
Class "<<interface>>\nReadOnlyClientBook" as ReadOnlyClientBook
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nReadOnlyPropertyBook" as ReadOnlyPropertyBook
Class "<<interface>>\nModel" as Model
Class ClientBook
Class PropertyBook
Class ModelManager
Class UserPrefs

Class UniqueClientList
Class UniquePropertyList
Class "<<abstract>>\nClient" as Client
Class Buyer
Class Seller
Class Property
Class Email
Class NameWithoutNumber
Class Phone
Class Type
Class PostalCode
Class Unit
Class Ask
Class Bid

Class I #FFFFFF
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

ClientBook .up.|> ReadOnlyClientBook
PropertyBook .up.|> ReadOnlyPropertyBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyClientBook
Model .left.> ReadOnlyPropertyBook
ModelManager -left-> "1" ClientBook
ModelManager -left-> "1" PropertyBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

ClientBook *--> "1" UniqueClientList
PropertyBook *--> "1" UniquePropertyList
UniqueClientList --> "~* all" Client
UniquePropertyList --> "~* all" Property
Client *--> NameWithoutNumber
Client *--> Phone
Client *--> Email
Property *--> PostalCode
Property *--> Unit
Property *--> Type
Property *--> Ask
Property *--> Bid

Client <|-- Buyer
Client <|-- Seller

Client -[hidden]up--> I
Property -[hidden]up--> I
UniqueClientList -[hidden]right-> I
UniquePropertyList -[hidden]right-> I

NameWithoutNumber -[hidden]right-> Phone
Phone -[hidden]right-> Email

ModelManager --> "~* filtered" Client
ModelManager --> "~* filtered" Property
@enduml
